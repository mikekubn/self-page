import React from 'react';
import type { NextPage } from 'next';
import Head from 'next/head';
import { LeftSideHomePage, RightSideHomePage } from '@/components/Sections/HomeSection';

const Home: NextPage = (): React.ReactElement => {
  const [startPositionY, setStartPositionY] = React.useState<number>();

  React.useEffect(() => {
    const { scrollY } = window;
    setStartPositionY(scrollY);
  }, [startPositionY]);

  const handleScroll = React.useCallback((e: Event) => {
    const { scrollY } = e?.currentTarget as Window;

    if (startPositionY !== undefined) {
      if (startPositionY > scrollY) {
        console.log('up', scrollY);
      } else if (startPositionY < scrollY) {
        console.log('down', scrollY);
      }
    }
  }, [startPositionY]);

  React.useEffect(() => {
    window.addEventListener('scroll', handleScroll);

    return () => {
      window.removeEventListener('scroll', () => handleScroll);
    };
  }, [handleScroll]);

  return (
    <>
      <Head>
        <title>Michael Kub√≠n</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.png" />
      </Head>
      <section id="home" className="flex h-screen pb-20">
        <LeftSideHomePage />
        <RightSideHomePage />
      </section>
      <section id="technology" className="h-screen bg-green" />
      <section id="contact" className="h-screen bg-purple" />
    </>
  );
};

export default Home;
